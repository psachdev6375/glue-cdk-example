<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.1 (20240910.0053)
 -->
<!-- Title: INFRA Pages: 1 -->
<svg width="570pt" height="728pt"
 viewBox="0.00 0.00 570.42 728.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 724)">
<title>INFRA</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-724 566.42,-724 566.42,4 -4,4"/>
<!-- GlueJobRole -->
<g id="node1" class="node">
<title>GlueJobRole</title>
<path fill="#e6e6e6" stroke="black" stroke-width="2" d="M221.11,-72C221.11,-72 148.18,-72 148.18,-72 142.18,-72 136.18,-66 136.18,-60 136.18,-60 136.18,-12 136.18,-12 136.18,-6 142.18,0 148.18,0 148.18,0 221.11,0 221.11,0 227.11,0 233.11,-6 233.11,-12 233.11,-12 233.11,-60 233.11,-60 233.11,-66 227.11,-72 221.11,-72"/>
<text text-anchor="middle" x="184.64" y="-40.2" font-family="Arial" font-size="14.00">GlueJobRole</text>
<text text-anchor="middle" x="184.64" y="-23.4" font-family="Arial" font-size="14.00">(IAMRole)</text>
</g>
<!-- json&#45;to&#45;pq -->
<g id="node2" class="node">
<title>json&#45;to&#45;pq</title>
<path fill="#b7e0ff" stroke="black" stroke-width="2" d="M211.77,-180C211.77,-180 157.52,-180 157.52,-180 151.52,-180 145.52,-174 145.52,-168 145.52,-168 145.52,-120 145.52,-120 145.52,-114 151.52,-108 157.52,-108 157.52,-108 211.77,-108 211.77,-108 217.77,-108 223.77,-114 223.77,-120 223.77,-120 223.77,-168 223.77,-168 223.77,-174 217.77,-180 211.77,-180"/>
<text text-anchor="middle" x="184.64" y="-148.2" font-family="Arial" font-size="14.00">json&#45;to&#45;pq</text>
<text text-anchor="middle" x="184.64" y="-131.4" font-family="Arial" font-size="14.00">(GlueJob)</text>
</g>
<!-- json&#45;to&#45;pq&#45;&gt;GlueJobRole -->
<g id="edge1" class="edge">
<title>json&#45;to&#45;pq&#45;&gt;GlueJobRole</title>
<path fill="none" stroke="black" d="M184.64,-107.7C184.64,-99.93 184.64,-91.57 184.64,-83.43"/>
<polygon fill="black" stroke="black" points="188.14,-83.66 184.64,-73.66 181.14,-83.66 188.14,-83.66"/>
</g>
<!-- StepFunctionRole -->
<g id="node3" class="node">
<title>StepFunctionRole</title>
<path fill="#e6e6e6" stroke="black" stroke-width="2" d="M115.29,-180C115.29,-180 12,-180 12,-180 6,-180 0,-174 0,-168 0,-168 0,-120 0,-120 0,-114 6,-108 12,-108 12,-108 115.29,-108 115.29,-108 121.29,-108 127.29,-114 127.29,-120 127.29,-120 127.29,-168 127.29,-168 127.29,-174 121.29,-180 115.29,-180"/>
<text text-anchor="middle" x="63.64" y="-148.2" font-family="Arial" font-size="14.00">StepFunctionRole</text>
<text text-anchor="middle" x="63.64" y="-131.4" font-family="Arial" font-size="14.00">(IAMRole)</text>
</g>
<!-- Run Glue ETL Job -->
<g id="node4" class="node">
<title>Run Glue ETL Job</title>
<path fill="#b7e0ff" stroke="black" stroke-width="2" d="M239,-288C239,-288 130.29,-288 130.29,-288 124.29,-288 118.29,-282 118.29,-276 118.29,-276 118.29,-228 118.29,-228 118.29,-222 124.29,-216 130.29,-216 130.29,-216 239,-216 239,-216 245,-216 251,-222 251,-228 251,-228 251,-276 251,-276 251,-282 245,-288 239,-288"/>
<text text-anchor="middle" x="184.64" y="-256.2" font-family="Arial" font-size="14.00">Run Glue ETL Job</text>
<text text-anchor="middle" x="184.64" y="-239.4" font-family="Arial" font-size="14.00">(GlueStartJobRun)</text>
</g>
<!-- Run Glue ETL Job&#45;&gt;json&#45;to&#45;pq -->
<g id="edge2" class="edge">
<title>Run Glue ETL Job&#45;&gt;json&#45;to&#45;pq</title>
<path fill="none" stroke="black" d="M184.64,-215.7C184.64,-207.93 184.64,-199.57 184.64,-191.43"/>
<polygon fill="black" stroke="black" points="188.14,-191.66 184.64,-181.66 181.14,-191.66 188.14,-191.66"/>
</g>
<!-- Run Glue ETL Job&#45;&gt;StepFunctionRole -->
<g id="edge3" class="edge">
<title>Run Glue ETL Job&#45;&gt;StepFunctionRole</title>
<path fill="none" stroke="black" d="M144.35,-215.7C134.05,-206.67 122.86,-196.87 112.18,-187.52"/>
<polygon fill="black" stroke="black" points="114.73,-185.1 104.9,-181.14 110.11,-190.36 114.73,-185.1"/>
</g>
<!-- Publish to SNS -->
<g id="node5" class="node">
<title>Publish to SNS</title>
<path fill="#cce0ac" stroke="black" stroke-width="2" d="M227.72,-396C227.72,-396 141.57,-396 141.57,-396 135.57,-396 129.57,-390 129.57,-384 129.57,-384 129.57,-336 129.57,-336 129.57,-330 135.57,-324 141.57,-324 141.57,-324 227.72,-324 227.72,-324 233.72,-324 239.72,-330 239.72,-336 239.72,-336 239.72,-384 239.72,-384 239.72,-390 233.72,-396 227.72,-396"/>
<text text-anchor="middle" x="184.64" y="-364.2" font-family="Arial" font-size="14.00">Publish to SNS</text>
<text text-anchor="middle" x="184.64" y="-347.4" font-family="Arial" font-size="14.00">(SNSPublish)</text>
</g>
<!-- Publish to SNS&#45;&gt;Run Glue ETL Job -->
<g id="edge4" class="edge">
<title>Publish to SNS&#45;&gt;Run Glue ETL Job</title>
<path fill="none" stroke="black" d="M184.64,-323.7C184.64,-315.93 184.64,-307.57 184.64,-299.43"/>
<polygon fill="black" stroke="black" points="188.14,-299.66 184.64,-289.66 181.14,-299.66 188.14,-299.66"/>
</g>
<!-- Fail -->
<g id="node6" class="node">
<title>Fail</title>
<path fill="#cce0ac" stroke="black" stroke-width="2" d="M389.75,-504C389.75,-504 227.46,-504 227.46,-504 221.46,-504 212.14,-499.01 208.81,-494.01 208.81,-494.01 174.19,-441.99 174.19,-441.99 170.86,-436.99 173.54,-432 179.54,-432 179.54,-432 341.83,-432 341.83,-432 347.83,-432 357.15,-436.99 360.48,-441.99 360.48,-441.99 395.1,-494.01 395.1,-494.01 398.42,-499.01 395.75,-504 389.75,-504"/>
<text text-anchor="middle" x="284.64" y="-472.2" font-family="Arial" font-size="14.00">Fail</text>
<text text-anchor="middle" x="284.64" y="-455.4" font-family="Arial" font-size="14.00">(StepFunctionFail)</text>
</g>
<!-- Fail&#45;&gt;Publish to SNS -->
<g id="edge5" class="edge">
<title>Fail&#45;&gt;Publish to SNS</title>
<path fill="none" stroke="black" d="M251.35,-431.7C243.08,-422.94 234.13,-413.45 225.55,-404.35"/>
<polygon fill="black" stroke="black" points="228.24,-402.12 218.84,-397.24 223.15,-406.92 228.24,-402.12"/>
</g>
<!-- Succeeded -->
<g id="node7" class="node">
<title>Succeeded</title>
<path fill="#cce0ac" stroke="black" stroke-width="2" d="M550.42,-396C550.42,-396 342.52,-396 342.52,-396 336.52,-396 326.69,-391.38 322.87,-386.76 322.87,-386.76 278.52,-333.24 278.52,-333.24 274.69,-328.62 276.87,-324 282.87,-324 282.87,-324 490.77,-324 490.77,-324 496.77,-324 506.59,-328.62 510.42,-333.24 510.42,-333.24 554.77,-386.76 554.77,-386.76 558.59,-391.38 556.42,-396 550.42,-396"/>
<text text-anchor="middle" x="416.64" y="-364.2" font-family="Arial" font-size="14.00">Succeeded</text>
<text text-anchor="middle" x="416.64" y="-347.4" font-family="Arial" font-size="14.00">(StepFunctionSucceed)</text>
</g>
<!-- Succeeded&#45;&gt;Run Glue ETL Job -->
<g id="edge6" class="edge">
<title>Succeeded&#45;&gt;Run Glue ETL Job</title>
<path fill="none" stroke="black" d="M339.07,-323.56C314.06,-312.13 286.37,-299.48 261.42,-288.08"/>
<polygon fill="black" stroke="black" points="263.2,-285.05 252.65,-284.07 260.29,-291.41 263.2,-285.05"/>
</g>
<!-- GlueETLStateMachine -->
<g id="node8" class="node">
<title>GlueETLStateMachine</title>
<path fill="#b7e0ff" stroke="black" stroke-width="2" d="M206.07,-612C206.07,-612 73.22,-612 73.22,-612 67.22,-612 61.22,-606 61.22,-600 61.22,-600 61.22,-552 61.22,-552 61.22,-546 67.22,-540 73.22,-540 73.22,-540 206.07,-540 206.07,-540 212.07,-540 218.07,-546 218.07,-552 218.07,-552 218.07,-600 218.07,-600 218.07,-606 212.07,-612 206.07,-612"/>
<text text-anchor="middle" x="139.64" y="-580.2" font-family="Arial" font-size="14.00">GlueETLStateMachine</text>
<text text-anchor="middle" x="139.64" y="-563.4" font-family="Arial" font-size="14.00">(StateMachine)</text>
</g>
<!-- GlueETLStateMachine&#45;&gt;StepFunctionRole -->
<g id="edge8" class="edge">
<title>GlueETLStateMachine&#45;&gt;StepFunctionRole</title>
<path fill="none" stroke="black" d="M118.54,-539.55C112.83,-528.51 107.24,-516.05 103.64,-504 71.25,-395.5 64.66,-261.47 63.58,-191.89"/>
<polygon fill="black" stroke="black" points="67.08,-191.95 63.46,-182 60.08,-192.04 67.08,-191.95"/>
</g>
<!-- GlueETLStateMachine&#45;&gt;Run Glue ETL Job -->
<g id="edge7" class="edge">
<title>GlueETLStateMachine&#45;&gt;Run Glue ETL Job</title>
<path fill="none" stroke="black" d="M127.66,-539.52C112.83,-489.6 92.75,-396.61 120.64,-324 124.32,-314.44 129.93,-305.37 136.35,-297.1"/>
<polygon fill="black" stroke="black" points="138.87,-299.54 142.59,-289.62 133.5,-295.05 138.87,-299.54"/>
</g>
<!-- GlueETLStateMachine&#45;&gt;Publish to SNS -->
<g id="edge9" class="edge">
<title>GlueETLStateMachine&#45;&gt;Publish to SNS</title>
<path fill="none" stroke="black" d="M142.18,-539.63C144.78,-510.45 149.75,-468.11 158.64,-432 160.68,-423.76 163.34,-415.15 166.19,-406.89"/>
<polygon fill="black" stroke="black" points="169.4,-408.3 169.49,-397.71 162.81,-405.93 169.4,-408.3"/>
</g>
<!-- GlueETLStateMachine&#45;&gt;Fail -->
<g id="edge10" class="edge">
<title>GlueETLStateMachine&#45;&gt;Fail</title>
<path fill="none" stroke="black" d="M187.93,-539.7C200.65,-530.41 214.49,-520.29 227.62,-510.69"/>
<polygon fill="black" stroke="black" points="229.34,-513.76 235.35,-505.04 225.21,-508.11 229.34,-513.76"/>
</g>
<!-- GlueETLStateMachine&#45;&gt;Succeeded -->
<g id="edge11" class="edge">
<title>GlueETLStateMachine&#45;&gt;Succeeded</title>
<path fill="none" stroke="black" d="M218.46,-564.8C289.57,-553.83 386.61,-533.82 410.64,-504 432.07,-477.41 432.22,-438.15 427.76,-407.49"/>
<polygon fill="black" stroke="black" points="431.23,-406.98 426.12,-397.7 424.32,-408.14 431.23,-406.98"/>
</g>
<!-- GlueETLEventRule -->
<g id="node9" class="node">
<title>GlueETLEventRule</title>
<path fill="#cce0ac" stroke="black" stroke-width="2" d="M195.56,-720C195.56,-720 83.72,-720 83.72,-720 77.72,-720 71.72,-714 71.72,-708 71.72,-708 71.72,-660 71.72,-660 71.72,-654 77.72,-648 83.72,-648 83.72,-648 195.56,-648 195.56,-648 201.56,-648 207.56,-654 207.56,-660 207.56,-660 207.56,-708 207.56,-708 207.56,-714 201.56,-720 195.56,-720"/>
<text text-anchor="middle" x="139.64" y="-688.2" font-family="Arial" font-size="14.00">GlueETLEventRule</text>
<text text-anchor="middle" x="139.64" y="-671.4" font-family="Arial" font-size="14.00">(EventBridgeRule)</text>
</g>
<!-- GlueETLEventRule&#45;&gt;GlueETLStateMachine -->
<g id="edge12" class="edge">
<title>GlueETLEventRule&#45;&gt;GlueETLStateMachine</title>
<path fill="none" stroke="black" d="M139.64,-647.7C139.64,-639.93 139.64,-631.57 139.64,-623.43"/>
<polygon fill="black" stroke="black" points="143.14,-623.66 139.64,-613.66 136.14,-623.66 143.14,-623.66"/>
</g>
</g>
</svg>
